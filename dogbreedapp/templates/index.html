<head>

<title>Dog breed classifier</title>

<!--import script files needed from plotly and bootstrap-->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

</head>

<body>


<!--navbar links-->     
<nav class="navbar navbar-expand-lg navbar-light bg-light rounded">
   <a class="navbar-brand" href="#">Dog breed classifier</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" 
  data-target="#navbarTogglerDemo02" 
  aria-controls="navbarTogglerDemo02" aria-expanded="false" 
  aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
    <ul class="navbar-nav ml-auto mt-2 mt-lg-0">
      <li class="nav-item">
        <a class="nav-link" href="https://www.udacity.com">Udacity</a>
      </li>
    </ul>
  </div>
</nav>

<!--middle section-->       
<div class="row">

    <!--social media buttons column-->      
    <div class="col-1 border-right">
        <div id="follow-me" class="mt-3">
		<a href="https://www.linkedin.com/in/daniel-calvo-mayo-382290aa" target="_blank" rel="noreferrer noopener">
                <img src="/static/img/linkedinlogo.png" alt="linkedin" class="img-fluid mb-4 ml-2">
            </a>
            <a href="https://github.com/dcalvomayo/" target="_blank" rel="noreferrer noopener">
                <img src="/static/img/githublogo.png" alt="github" class="img-fluid ml-2">
            </a>
        </div>
    </div>

    <!--visualizations column-->        
    <div class="col-11">

        <!--chart descriptions-->       
        <div id="middle-info" class="mt-3">

            <h2 id="tag-line">Dog Breed Classifier</h2>
            <h4 id="tag-line" class="text-muted">Using Convolutional Neural Networks</h4>
            
        </div>

	<div id="" class="col-8 mt-3">

		<p> This project is part of the Udacity Data Science Nanodegree. It uses a modified Resnet50 convolutional neural network (CNN) taking advantage of transfer learning. Some of the last layers have been removed, and substituted by two layers that have been retrained. The rest of the network remains fixed following standard practice for small datasets with high similarity. You can find more information about how I developed the algorithm in a notebook that I shared on my <a href="https:/github.com/dcalvomayo/" target="_blank" rel="noreferrer noopener">Github</a>.
		</p>

		<p> The network has been integrated in an algorithm that does the following:</p>
		<p> Step 1. Detects if an image is human or dog. </p>
		<p> Step 2. Return a prediction of breed based on the CNN, even for human beings. </p>
		
		
		<p> You are encouraged to test its performance with any image from your computer. Good luck!
		</p>
	</div>

	<div id="" class="col-8 mt-3">
        
	    <form action="/upload-file" method="POST" enctype="multipart/form-data">
	      <div class="input-group">
                <input type="file" name="image" class="form-control" id="inputfile" aria-describedby="inputGroupFileAddon04" aria-label="Upload">
		<button class="btn btn-outline-secondary" type="submit" id="Predict" disabled>Predict</button>
              </div>

	    </form>

	</div>

	<div class="spinner-border collapse" role="status" id="loading">
            <span class="visually-hidden">Loading...</span>
        </div>

	<div id="" class="col-4 mt-3">
		<img src="{{img_path}}" class="img-fluid mb-4 ml-2">
	</div>

	<div id="" class="col-8 mt-3">
	  <div id="" class="card">
	    <div id="output" class="card-body" style="white-space:pre">

	    </div>

	  </div>

        </div>

<script type="text/javascript">
	$('#Predict').click(function(){
		$('#loading').show();
	});
</script>

<script type="text/javascript">
	$('#inputfile').change(function(){
		$('#Predict').removeAttr('disabled');
	});
</script>

<script type="text/javascript"> 
    const value = `{{value | safe}}`;
    $('#output').text(value);
</script>



</body>

</html>
